
{% extends "layouts/base.html" %}

{% block TITLE %} â€¢ Test{% endblock %}

{% block CONTENT %}
<div class="component-border">
    <p class="text text-subtitle">Instructions</p>
    <div class="components-50-50">
        <div class="component-border">
            <p class="text">You will be shown a series of political statements, and your responses to them will be recorded. At the end of the test, your responses will be used to determine your position across eight ideological axes.</p>
        </div>
    </div>
    <div class="components-50-50">
        <div class="component-border">
            <button class="button blue-button" onclick="start_test()"><i class="fa-solid fa-right-long"></i>Continue</button>
        </div>
    </div>
</div>
{% endblock %}

{% block SCRIPTS %}
<script>
    // Takes user to /test
    function start_test() {
        $.ajax({
            type: "POST",
            url: "/api/to_test",
            contentType: "application/json",
            data: JSON.stringify({ "action": "to_test" }),
            success: function () {
                window.location = "/test";
            },
            error: function (xhr) {
                const msg =
                    (xhr.responseJSON && xhr.responseJSON.status) ||
                    ("Request failed (" + xhr.status + "). Please refresh and try again.");
                alert(msg);
            }
        });
    }
</script>
{% endblock %}
